"use strict";var _mdLinks=_interopRequireDefault(require("./mdLinks")),_chalk=_interopRequireDefault(require("chalk"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var totalAndUnique=function(a){var b=_toConsumableArray(new Set(a.map(function(a){return a.href}))).length;console.log("Total: ".concat(a.length,"\nUnique: ").concat(b))},brokens=function(a){var b=a.filter(function(a){return"OK"!==a.validate}).length;console.log("Broken: ".concat(b," "))},cli=function(a,b){a?(0,_mdLinks["default"])(a,b).then(function(a){!!b&&b.validate?b.stats?(totalAndUnique(a),brokens(a)):a.forEach(function(a){var b=a.file,c=a.href,d=a.code,e=a.validate,f=a.text;console.log("".concat(_chalk["default"].yellow(b)," ").concat(_chalk["default"].cyan(c)," ").concat(_chalk["default"].magenta(e)," ").concat(_chalk["default"].magenta(d)," ").concat(_chalk["default"].blue(f)))}):!!b&&b.stats?totalAndUnique(a):a.forEach(function(a){var b=a.file,c=a.href,d=a.text;return console.log("\u2A2D ".concat(_chalk["default"].yellow.underline(b)," \uD83E\uDC72 ").concat(_chalk["default"].cyanBright(c),"...").concat(_chalk["default"].blue(d)))})})["catch"](function(){return console.log("\n".concat(_chalk["default"].rgb(227,13,219).bold("---> PLEASE CHECK THE PATH (is wrong or there`rnt links into .md)-->")," ").concat(_chalk["default"].bgRgb(227,13,219).yellow.bold(a),"\n "))}):(console.error("\n".concat(_chalk["default"].bgYellow.rgb(112,19,147).bold("\uD83E\uDC72  Please specify the path:  "))),console.log("  ".concat(_chalk["default"].cyan("p-mdlinks")," ").concat(_chalk["default"].yellow.bold("<path>"),"\n")),console.log("\n".concat(_chalk["default"].bgYellow.rgb(112,19,147).bold("\uD83E\uDC72  For example:  "))),console.log("  ".concat(_chalk["default"].cyan("p-mdlinks")," ").concat(_chalk["default"].yellow.bold("md_directory"))),console.log("  ".concat(_chalk["default"].cyan("p-mdlinks")," ").concat(_chalk["default"].yellow.bold("README.md"),"\n")),console.log("".concat(_chalk["default"].bgYellow.rgb(112,19,147).bold("\uD83E\uDC72  Run  ")).concat(_chalk["default"].cyan("\n".concat("  p-mdlinks"," --help"))," ").concat(_chalk["default"].yellow.bold("for info "),"\n")))};// console.log(totalAndUnique(array1));
module.exports=cli;